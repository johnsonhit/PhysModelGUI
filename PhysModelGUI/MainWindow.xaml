<Window x:Class="PhysModelGUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:skia="clr-namespace:SkiaSharp.Views.WPF;assembly=SkiaSharp.Views.WPF"
        xmlns:local="clr-namespace:PhysModelGUI"
        xmlns:local2="clr-namespace:PhysModelGUI.Graphics"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:ex="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
        mc:Ignorable="d"
       
        Title="Neonatal physiological model" Height="1080" Width="1920" Background="White" WindowStartupLocation="CenterScreen">
    <Window.Resources>
        
        <Style x:Key="comboBoxCustom" TargetType="{x:Type ComboBox}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <ToggleButton Grid.Column="2" Focusable="false" IsChecked="{Binding Path=IsDropDownOpen,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}" >
                                <ToggleButton.Template>
                                    <ControlTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="6*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Border x:Name="Border"  Grid.ColumnSpan="2" CornerRadius="0" Background="Black" BorderBrush="Black" BorderThickness="1" />
                                            <Border Grid.Column="0" CornerRadius="0,0,0,0"  Margin="1"  Background="Black"  BorderBrush="Black" BorderThickness="0,0,1,0" />
                                            <Path x:Name="Arrow" Grid.Column="1"  Fill="DarkSlateGray" HorizontalAlignment="Center" VerticalAlignment="Center" Data="M 0 0 L 4 4 L 8 0 Z"/>
                                        </Grid>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="ToggleButton.IsMouseOver" Value="true">
                                                <Setter TargetName="Border" Property="Background" Value="DarkGray" />
                                            </Trigger>
                                            <Trigger Property="ToggleButton.IsChecked" Value="true">
                                                <Setter TargetName="Border" Property="Background" Value="DarkGray" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </ToggleButton.Template>
                            </ToggleButton>
                            <ContentPresenter Name="ContentSite" HorizontalAlignment="Center"  IsHitTestVisible="False"  Content="{TemplateBinding SelectionBoxItem}" ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}" ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}" Margin="3"  />
                            <TextBox x:Name="PART_EditableTextBox" TextAlignment="Center" Visibility="Hidden" IsReadOnly="{TemplateBinding IsReadOnly}"/>
                            <Popup Name="Popup" Placement="Bottom" IsOpen="{TemplateBinding IsDropDownOpen}" AllowsTransparency="True"  Focusable="False" PopupAnimation="Slide">
                                <Grid  Name="DropDown" SnapsToDevicePixels="True" MinWidth="{TemplateBinding ActualWidth}" MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                    <Border x:Name="DropDownBorder" Background="DarkGray" />
                                    <ScrollViewer SnapsToDevicePixels="True">
                                        <StackPanel IsItemsHost="True" />
                                    </ScrollViewer>
                                </Grid>
                            </Popup>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
            </Style.Triggers>
        </Style>


    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"></ColumnDefinition>
            <ColumnDefinition Width="1.75*"></ColumnDefinition>
            <ColumnDefinition Width="*"></ColumnDefinition>
        </Grid.ColumnDefinitions>
        <Menu VerticalAlignment="Top" Height="25" Grid.ColumnSpan="3">
            <MenuItem Header="_File">
                <MenuItem Header="_New" Command="{Binding NewModelCommand}" />
                <MenuItem Header="_Open"  Command="{Binding LoadModelCommand}" />
                <MenuItem Header="_Save"   Command="{Binding SaveModelCommand}" />
                <Separator />
                <MenuItem Header="_Exit" Command="{Binding ExitCommand}" />
            </MenuItem>
            <MenuItem Header="_View">
                <MenuItem Header="_Components">
                    <MenuItem x:Name="menuMYO" Header="_Myocardium" IsCheckable="True" Command="{Binding ShowMYOCommand}" CommandParameter="{Binding ElementName=menuMYO, Path=IsChecked}"  />
                    <MenuItem x:Name="menuPLACENTA" Header="_Placenta"></MenuItem>
                </MenuItem>
                <MenuItem Header="_Shunts">
                    <MenuItem x:Name="menuPDA" Header="_Ductus arteriosus" IsCheckable="True" Command="{Binding ShowPDACommand}" CommandParameter="{Binding ElementName=menuPDA, Path=IsChecked}"/>
                    <MenuItem x:Name="menuOFO" Header="_Foramen ovale" IsCheckable="True" Command="{Binding ShowOFOCommand}" CommandParameter="{Binding ElementName=menuOFO, Path=IsChecked}"/>
                    <MenuItem x:Name="menuVSD" Header="_Ventricular septal defect" IsCheckable="True" Command="{Binding ShowVSDCommand}" CommandParameter="{Binding ElementName=menuVSD, Path=IsChecked}" />
                    <MenuItem x:Name="menuLUNGSHUNT" Header="_Lung shunt" IsCheckable="true" Command="{Binding ShowLUNGSHUNTCommand}" CommandParameter="{Binding ElementName=menuLUNGSHUNT, Path=IsChecked}" />
                </MenuItem>
                <MenuItem Header="_Devices">
                    <MenuItem x:Name="menuALUNG" Header="_Artifical lung"></MenuItem>
                    <MenuItem x:Name="menuVAECMO" Header="_Veno-arterial ECMO"></MenuItem>
                    <MenuItem x:Name="menuVVECMO" Header="_Veno-venous ECMO"></MenuItem>
                    <MenuItem x:Name="menuLVAD" Header="_Left ventricular assist device"></MenuItem>
                    <MenuItem x:Name="menuRVAD" Header="_Right ventricular assist device"></MenuItem>
                </MenuItem>
                
            </MenuItem>
            <MenuItem Header="_Events">
                <MenuItem x:Name="menuPaul" Header="_Switch to Paul" IsCheckable="True" Command="{Binding SwitchToPaulCommand}"/>


                    <MenuItem x:Name="menuArrest" Header="_Cardiac arrest" IsCheckable="True" Command="{Binding ToggleArrestCommand}" CommandParameter="{Binding ElementName=menuArrest, Path=IsChecked}"/>


                    <MenuItem x:Name="menuAutoPulse" Header="_Auto pulse" IsCheckable="True" Command="{Binding ToggleAutoPulseCommand}" CommandParameter="{Binding ElementName=menuAutoPulse, Path=IsChecked}"/>
                </MenuItem>
        </Menu>
        <StatusBar VerticalAlignment="Bottom" Height="25" Grid.ColumnSpan="3">
            <StatusBarItem>
                <TextBlock Text="model name : "></TextBlock>
            </StatusBarItem>
            <StatusBarItem>
                <TextBlock Text="{Binding ModelName, Mode=OneWay}" FontWeight="DemiBold"/>
            </StatusBarItem>

        </StatusBar>

        <TextBlock Margin="0,25,0,0" Text="MODEL PARAMETERS" TextAlignment="Center" Foreground="Black" FontWeight="DemiBold" FontSize="15" ></TextBlock>
        <ScrollViewer Grid.Column="0"  Margin="0,50,0,25" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="0,0,5,0">

                <Expander IsExpanded="False" Header="Conditions" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10" Opacity="1" Foreground="White" BorderThickness="0">
                    <StackPanel Margin="5,0,5,5" >
                        <Expander Header=" heart" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="4*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="contractility" Margin="0,0,0,5"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="%" FontSize="10" HorizontalAlignment="Center"></TextBlock>
                                    <Slider x:Name="sli1Fsize" Grid.Column="0" Grid.Row="1" Minimum="0" Maximum="5"  Value="0" ></Slider>
                                    <TextBlock Grid.Column="1" Grid.Row="1" FontSize="10"  HorizontalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="diastolic function" Margin="0,5,0,5"></TextBlock>
                                    <Slider x:Name="sli2Fsize" Grid.Column="0" Grid.Row="3" Minimum="0" Maximum="10" Value="0"></Slider>
                                    <TextBlock Grid.Column="1" Grid.Row="3" FontSize="10"  HorizontalAlignment="Center"></TextBlock>
                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" circulation" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="4*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="contractility" Margin="0,0,0,5"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="%" FontSize="10" HorizontalAlignment="Center"></TextBlock>
                                    <Slider x:Name="sli1CCsize" Grid.Column="0" Grid.Row="1" Minimum="0" Maximum="5"  Value="0" ></Slider>
                                    <TextBlock Grid.Column="1" Grid.Row="1" FontSize="10" Text="{Binding ElementName=sli1ASize, Path=Value, StringFormat={}{0:0.0}}" HorizontalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="diastolic function" Margin="0,5,0,5"></TextBlock>
                                    <Slider x:Name="sli2CCsize" Grid.Column="0" Grid.Row="3" Minimum="0" Maximum="10" Value="0"></Slider>
                                    <TextBlock Grid.Column="1" Grid.Row="3" FontSize="10" Text="{Binding ElementName=sli2Asize, Path=Value, StringFormat={}{0:0.0}}" HorizontalAlignment="Center"></TextBlock>
                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" pulmonary" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="4*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="contractility" Margin="0,0,0,5"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="%" FontSize="10" HorizontalAlignment="Center"></TextBlock>
                                    <Slider x:Name="sli1CCCsize" Grid.Column="0" Grid.Row="1" Minimum="0" Maximum="5"  Value="0" ></Slider>
                                    <TextBlock Grid.Column="1" Grid.Row="1" FontSize="10" Text="{Binding ElementName=sli1ASize, Path=Value, StringFormat={}{0:0.0}}" HorizontalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="diastolic function" Margin="0,5,0,5"></TextBlock>
                                    <Slider x:Name="sli2CCCsize" Grid.Column="0" Grid.Row="3" Minimum="0" Maximum="10" Value="0"></Slider>
                                    <TextBlock Grid.Column="1" Grid.Row="3" FontSize="10" Text="{Binding ElementName=sli2Asize, Path=Value, StringFormat={}{0:0.0}}" HorizontalAlignment="Center"></TextBlock>
                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" hypoxia" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="4*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="contractility" Margin="0,0,0,5"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="%" FontSize="10" HorizontalAlignment="Center"></TextBlock>
                                    <Slider x:Name="sli1DDDDDsize" Grid.Column="0" Grid.Row="1" Minimum="0" Maximum="5"  Value="0" ></Slider>
                                    <TextBlock Grid.Column="1" Grid.Row="1" FontSize="10" Text="{Binding ElementName=sli1ASize, Path=Value, StringFormat={}{0:0.0}}" HorizontalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="diastolic function" Margin="0,5,0,5"></TextBlock>
                                    <Slider x:Name="sli2DDDDDsize" Grid.Column="0" Grid.Row="3" Minimum="0" Maximum="10" Value="0"></Slider>
                                    <TextBlock Grid.Column="1" Grid.Row="3" FontSize="10" Text="{Binding ElementName=sli2Asize, Path=Value, StringFormat={}{0:0.0}}" HorizontalAlignment="Center"></TextBlock>
                                </Grid>
                            </Border>
                        </Expander>

                    </StackPanel>
                </Expander>

                <Expander IsExpanded="False" Header="Interventions" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10" Opacity="1" Foreground="White" BorderThickness="0">
 
                </Expander>

                
                <Expander IsExpanded="False" Header="Global model settings" Background="DarkSlateGray" Margin="10,0,0,10" Padding="5,5,5,5"  Foreground="White" BorderThickness="0">
                    <StackPanel Margin="5,0,5,5" >
                        <Expander Header=" ecg" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">

                        </Expander>
                        <Expander Header=" heart" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text=" whole heart contractility"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding HeartContractilityChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text=" > left heart contractility"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding HeartLeftContractilityChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>


                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text=" > right heart contractility"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding HeartRightContractilityChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text=" whole heart diastolic function"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding HeartDiastolicFunctionChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text=" > left diastolic function"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding HeartLeftDiastolicFunctionChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>


                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text=" > right diastolic function"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding HeartRightDiastolicFunctionChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text=" aortic valve stenosis"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding AVStenosisChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="6" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text=" aortic valve regurgitation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Maximum="100" Value="{Binding AVRegurgitationChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="7" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text=" pulmonary valve stenosis"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Value="{Binding PVStenosisChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="8" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="9" FontSize="10" Text=" pulmonary valve regurgitation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="9" Grid.Column="1" Maximum="100" Value="{Binding PVRegurgitationChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="9" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="10" FontSize="10" Text=" mitral valve stenosis"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="10" Grid.Column="1" Value="{Binding MVStenosisChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="10" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="11" FontSize="10" Text=" mitral valve regurgitation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="11" Grid.Column="1" Maximum="100" Value="{Binding MVRegurgitationChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="11" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="12" FontSize="10" Text=" tricuspid valve stenosis"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="12" Grid.Column="1"  Value="{Binding TVStenosisChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="12" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="13" FontSize="10" Text=" tricuspid valve regurgitation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="13" Grid.Column="1" Maximum="100"  Value="{Binding TVRegurgitationChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="13" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="14" FontSize="10" Text=" pericardial compliance"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="14" Grid.Column="1" Maximum="100"  Value="{Binding PericardiumComplianceChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="14" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>



                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" circulation" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text=" change syst vasc resistance"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding SystemicVascularResistanceChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text=" change pulm vasc resistance"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding PulmonaryVascularResistanceChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text=" change venous pool volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding VenousPoolChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text=" change blood volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding BloodVolumeChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" shunts" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                             
                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text=" change PDA size"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Minimum="0" Maximum="10" Value="{Binding PDASize,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="mm" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text=" change OFO size"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Minimum="0" Maximum="10" Value="{Binding OFOSize,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="mm" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text=" change VSD size"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Minimum="0" Maximum="10" Value="{Binding VSDSize,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="mm" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text=" change lung shunt size"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Minimum="0" Maximum="10" Value="{Binding LUNGShuntSize,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="mm" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" breathing and ventilation" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="4*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="Spontaneous breathing" Margin="0,0,0,5"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="%" FontSize="10" HorizontalAlignment="Center"></TextBlock>
                                    <Slider x:Name="sli1Bsize" Grid.Column="0" Grid.Row="1" Minimum="0" Maximum="5"  Value="0" ></Slider>
                                    <TextBlock Grid.Column="1" Grid.Row="1" FontSize="10" Text="{Binding ElementName=sli1ASize, Path=Value, StringFormat={}{0:0.0}}" HorizontalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="diastolic function" Margin="0,5,0,5"></TextBlock>
                                    <Slider x:Name="sli2Bsize" Grid.Column="0" Grid.Row="3" Minimum="0" Maximum="10" Value="0"></Slider>
                                    <TextBlock Grid.Column="1" Grid.Row="3" FontSize="10" Text="{Binding ElementName=sli2Asize, Path=Value, StringFormat={}{0:0.0}}" HorizontalAlignment="Center"></TextBlock>
                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" lung and chestwall" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    
                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text=" change lung compliance"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding LungComplianceChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text=" change airway compliance"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding AirwayComplianceChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text=" change chestwall compliance"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding ChestwallComplianceChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text=" change lung diffusion capacity"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding LungDiffusionCapacity,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>


                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" metabolic" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="4*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="contractility" Margin="0,0,0,5"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="%" FontSize="10" HorizontalAlignment="Center"></TextBlock>
                                    <Slider x:Name="sli1Dsize" Grid.Column="0" Grid.Row="1" Minimum="0" Maximum="5"  Value="0" ></Slider>
                                    <TextBlock Grid.Column="1" Grid.Row="1" FontSize="10" Text="{Binding ElementName=sli1ASize, Path=Value, StringFormat={}{0:0.0}}" HorizontalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="diastolic function" Margin="0,5,0,5"></TextBlock>
                                    <Slider x:Name="sli2Dsize" Grid.Column="0" Grid.Row="3" Minimum="0" Maximum="10" Value="0"></Slider>
                                    <TextBlock Grid.Column="1" Grid.Row="3" FontSize="10" Text="{Binding ElementName=sli2Asize, Path=Value, StringFormat={}{0:0.0}}" HorizontalAlignment="Center"></TextBlock>
                                </Grid>
                            </Border>
                        </Expander>
                        
                        <Expander Header=" autonomic nervous system" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                   
                        </Expander>
                    </StackPanel>
                </Expander>

                <Expander IsExpanded="False" Header="Specific model settings" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10" Foreground="White" BorderThickness="0">
                    <StackPanel Margin="5,0,5,5">
                        <Expander IsExpanded="False" Header=" compartments" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Margin="5,0,0,0" Text="select compartment " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbCompartments" ItemsSource="{Binding compartments}"  DisplayMemberPath="Description" Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="2" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeCompartmentCommand}" CommandParameter="{Binding ElementName=cmbCompartments, Path=SelectedItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Text="> unstressed volume" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="1" Increment="0.1" Value="{Binding UVol, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" Text="> baseline elastance" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="2" Increment="0.1" Value="{Binding ElBaseline, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Grid.ColumnSpan="2" Text="mmHg/ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2" Text="> contraction elastance" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="3" Increment="0.1" Value="{Binding ElContractionBaseline, Mode=TwoWay}" Margin="0,2,0,2" FontSize="10">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="3" Grid.ColumnSpan="2" Text="mmHg/ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2" Text="> min vol elast curve" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="4" Increment="0.1" Value="{Binding ElKMinVolume, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="4" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2" Text="> min vol elast curve K" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="5" Increment="0.1" Value="{Binding ElK1, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="5" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2" Text="> max vol elast curve" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="6" Increment="0.1" Value="{Binding ElKMaxVolume, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="6" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2" Text="> max vol elast curve K" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="7" Increment="0.1" Value="{Binding ElK2, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="7" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" Grid.ColumnSpan="2" Text="> fraction oxygen use" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="8" Increment="0.01" Minimum="0" Maximum="1" Value="{Binding FVO2, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="8" Grid.ColumnSpan="2" Text="fraction" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="9" Grid.ColumnSpan="2" Text="> is enabled" FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="9" IsChecked="{Binding IsEnabled}" Margin="0,5,0,0" ></CheckBox>
                                    
                                    <TextBlock Grid.Column="0" Grid.Row="10" Grid.ColumnSpan="2" Text="> has fixed composition" FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="10" IsChecked="{Binding HasFixedComposition}" Margin="0,5,0,0" ></CheckBox>

                                    <TextBlock Grid.Column="0" Grid.Row="11" Grid.ColumnSpan="2" Text="> has fixed volume" FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="11" IsChecked="{Binding HasFixedVolume}" Margin="0,5,0,0" ></CheckBox>

                                   
                                </Grid>
                              
                            </Border>
                        </Expander>

                        <Expander IsExpanded="false" Header=" connectors" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Margin="5,0,0,0" Text="select connector " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbConnectors" ItemsSource="{Binding connectors}"  DisplayMemberPath="Description" Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="2" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeConnectorCommand}" CommandParameter="{Binding ElementName=cmbConnectors, Path=SelectedItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Text="> forward resistance" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="1" Increment="0.01" Value="{Binding ResForward, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Grid.ColumnSpan="2" Text="mmHg/sec/ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" Text="> backward resistance" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="2" Increment="0.01" Value="{Binding ResBackward, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Grid.ColumnSpan="2" Text="mmHg/sec/ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2" Text="> resistance K1" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="3" Increment="0.1" Value="{Binding ResK1, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="3" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2" Text="> resistance K2" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="4" Increment="0.1" Value="{Binding ResK2, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="4" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2" Text="> resistance coupling" FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="5" IsChecked="{Binding IsCoupledRes}" Margin="0,5,0,0"  ></CheckBox>

                                    <TextBlock Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2" Text="> no backflow " FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="6" IsChecked="{Binding NoBackFlowRes}" Margin="0,5,0,0"  ></CheckBox>

                                    <TextBlock Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2" Text="> is enabled" FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="7" IsChecked="{Binding IsEnabledRes}" Margin="0,5,0,0"  ></CheckBox>

                                </Grid>
                            </Border>
                        </Expander>
                        
                        <Expander IsExpanded="False" Header=" container compartments" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Margin="5,0,0,0" Text="select container " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbContainers" ItemsSource="{Binding containers}"  DisplayMemberPath="Description" Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="2" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeContainerCommand}" CommandParameter="{Binding ElementName=cmbContainers, Path=SelectedItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1" Margin="5,3,0,0" Text="contained compartments " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ListBox ItemsSource="{Binding containedCompartments}"  DisplayMemberPath="Description" Margin="0,3,5,3" FontSize="10" Height="60" Grid.ColumnSpan="2" Grid.Column="2" Grid.Row="1" >

                                    </ListBox>
                                    
                                    <TextBlock Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" Text="> unstressed volume" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="2" Increment="0.1" Value="{Binding UVolCont, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphContainerCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2" Text="> baseline elastance" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="3" Increment="0.1" Value="{Binding ElBaselineCont, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphContainerCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="3" Grid.ColumnSpan="2" Text="mmHg/ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2" Text="> min vol elast curve" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="4" Increment="0.1" Value="{Binding ElKMinVolumeCont, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphContainerCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="4" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2" Text="> min vol elast curve K" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="5" Increment="0.1" Value="{Binding ElK1Cont, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphContainerCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="5" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2" Text="> max vol elast curve" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="6" Increment="0.1" Value="{Binding ElKMaxVolumeCont, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphContainerCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="6" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2" Text="> max vol elast curve K" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="7" Increment="0.1" Value="{Binding ElK2Cont, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ValueChanged">
                                                <i:InvokeCommandAction Command="{Binding DrawElastanceGraphContainerCommand}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="7" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                    
                                </Grid>
                            </Border>
                        </Expander>

                        <Expander IsExpanded="false" Header=" gasexchange units" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>


                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Margin="5,0,0,0" Text="select unit " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbGexUnits" ItemsSource="{Binding gasexchangeUnits}"  DisplayMemberPath="Description" Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="2" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeGexUnitCommand}" CommandParameter="{Binding ElementName=cmbGexUnits, Path=SelectedItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Text="> blood compartment" FontSize="10" Margin="5,5,5,0" VerticalAlignment="Center"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Grid.ColumnSpan="2" Text="{Binding CompBloodGex}" FontSize="10" Margin="5,5,5,0" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" Text="> gas compartment" FontSize="10" Margin="5,5,5,0" VerticalAlignment="Center"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Grid.ColumnSpan="2" Text="{Binding CompGasGex}" FontSize="10" Margin="5,5,5,5" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>
                                 
                                    <TextBlock Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2" Text="> diffusion O2" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="3" Increment="0.000001" Minimum="0" Value="{Binding DiffO2Gex, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="3" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2" Text="> diffusion CO2" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="4" Increment="0.000001" Minimum="0" Value="{Binding DiffCO2Gex, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="4" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2" Text="> diffusion N2" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="5" Increment="0.000001" Minimum="0" Value="{Binding DiffN2Gex, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="5" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2" Text="> diffusion other gasses" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="6" Increment="0.000001" Minimum="0" Value="{Binding DiffOtherGex, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="6" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    
                                    
                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" autonomic nervous system model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <StackPanel Margin="20,0,0,0">
                                <Expander Header=" MAP baroreceptor activation curve" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                        <Grid Margin="10,5,10,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="5*"/>
                                                <ColumnDefinition Width="2*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                   

                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="saturation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Increment="1" Minimum="0" Value="{Binding SaMAP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="0" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="operating point"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Increment="1" Minimum="0"  Value="{Binding OpMAP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="1" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="threshold"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Increment="1" Minimum="0" Value="{Binding ThMAP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="2" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="gain on heart period"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding GMAPHP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                            

                                            <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="time constant of hp effect"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding TcMAPHP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="4" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="gain on contractility"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding GMAPCont,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                              

                                            <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="time constant of cont effect"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding TcMAPCont,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="6" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="gain on SVR"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding GMAPSVR,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                      

                                            <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="time constant of SVR effect"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding TcMAPSVR,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="8" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="9" FontSize="10" Text="gain on venous pool"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="9" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding GMAPVen,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                        

                                            <TextBlock Grid.Column="0" Grid.Row="10" FontSize="10" Text="time constant of pooling effect"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="10" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding TcMAPVen,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="10" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                        </Grid>
                                    </Border>
                                </Expander>

                                <Expander Header=" pH chemoreceptor activation curve" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                        <Grid Margin="10,5,10,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="5*"/>
                                                <ColumnDefinition Width="2*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>

                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="saturation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding SaPH,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                   

                                            <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="operating point"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding OpPH,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    

                                            <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="threshold"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding ThPH,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                         

                                            <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="gain on minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding GPHVE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                           

                                            <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="time constant of mv effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding TcPHVE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="4" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="gain on contractility"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding GPHCont,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                             

                                            <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="time constant of cont effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding TcPHCont,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="6" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                        </Grid>
                                    </Border>
                                </Expander>
                                
                                <Expander Header=" pO2 chemoreceptor activation curve" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                        <Grid Margin="10,5,10,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="5*"/>
                                                <ColumnDefinition Width="2*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                              
                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="saturation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding SaPO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="0" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="operating point"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding OpPO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="1" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="threshold"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding ThPO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="2" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="gain on minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding GPO2VE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
          

                                            <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="time constant of mv effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding TcPO2VE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="4" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="gain on heart period"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding GPO2HP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                            

                                            <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="time constant of hp effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding TcPO2HP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="6" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                       
                                        </Grid>
                                    </Border>
                                </Expander>
                               
                                <Expander Header=" pCO2 chemoreceptor activation curve" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                        <Grid Margin="10,5,10,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="5*"/>
                                                <ColumnDefinition Width="2*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
    
                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="saturation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding SaPCO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="0" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="operating point"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding OpPCO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="1" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="threshold"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding ThPCO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="2" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="gain on minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding GPCO2VE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                               

                                            <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="time constant of mv effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding TcPCO2VE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="4" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="gain on heart period"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding GPCO2HP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                 

                                            <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="time constant of hp effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Increment="0.1" Minimum="0" Value="{Binding TcPCO2HP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="6" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

       

                                        </Grid>
                                    </Border>
                                </Expander>
                            </StackPanel>


                        </Expander>

                        <Expander Header=" breathing model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
        
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="spontaneous breathing" Margin="0,0,0,5"></TextBlock>
                                    <CheckBox Grid.Column="1" Grid.Row="0"  IsChecked="{Binding SpontaneousBreathing, Mode=TwoWay}" FontSize="10" HorizontalAlignment="Left"/>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="reference exhaled minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Increment="1" Minimum="0" Maximum="10000" Value="{Binding VERef,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="maximal exhaled minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Increment="1" Minimum="0" Maximum="10000" Value="{Binding VEMax,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="tidal volume / resp rate ratio"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Increment="0.05" Minimum="0.05" Maximum="1" Value="{Binding VtRrRatio,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                  

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="breath duration"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Increment="1" Minimum="1" Maximum="100000" Value="{Binding BreathDuration,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="ms" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="breath duration randomness"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Increment="1" Minimum="0" Value="{Binding BreathDurationRand,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                         

                                    <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="apnoe occurence"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Increment="1" Minimum="0"  Value="{Binding ApnoeOccurence,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                               

                                    <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="apnoe duration"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Increment="1" Minimum="0" Value="{Binding ApnoeDuration,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="7" Text="s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="apnoe duration randomness"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Increment="1" Minimum="0" Value="{Binding ApnoeDurationRand,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                  

                                </Grid>
                            </Border>
                        </Expander>
                        
                        <Expander Header=" ventilator model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                  
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="mechanical ventilator enabled" Margin="0,0,0,5"></TextBlock>
                                    <CheckBox Grid.Column="1" Grid.Row="0"  IsChecked="{Binding VirtualVentilatorEnabled, Mode=TwoWay}" FontSize="10" HorizontalAlignment="Left"/>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="volume controlled" Margin="0,0,0,5"></TextBlock>
                                    <CheckBox Grid.Column="1" Grid.Row="1"  IsChecked="{Binding Vent_VolumeControlled, Mode=TwoWay}" FontSize="10" HorizontalAlignment="Left"/>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="targeted tidal volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Increment="1" Minimum="0" Maximum="200" Value="{Binding Vent_TargetTidalVolume,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="ml" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="max insp pressure (PIP)"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Increment="1" Minimum="0" Maximum="200" Value="{Binding Vent_PIP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="cmH2O" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="pos end exp pressure (PEEP)"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Increment="1" Minimum="0" Maximum="200" Value="{Binding Vent_PEEP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="cmH2O" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="inspiration time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Increment="0.1" Minimum="0.1" Maximum="5" Value="{Binding Vent_TIn,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="expiration time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Increment="0.1" Minimum="0.1" Maximum="5" Value="{Binding Vent_TOut,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="6" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="inspiratory flow"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Increment="0.1" Minimum="0" Maximum="15" Value="{Binding Vent_InspFlow,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="7" Text="l/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="expiratory flow"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Increment="0.1" Minimum="0" Maximum="15" Value="{Binding Vent_ExpFlow,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="8" Text="l/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="9" FontSize="10" Text="trigger volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="9" Grid.Column="1" Increment="1" Minimum="0" Maximum="50" Value="{Binding Vent_TriggerVolume,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="9" Text="ml" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" ecg model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
             
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" Margin="0,0,0,0" Text="select rhythm " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbRhythmType" ItemsSource="{Binding rhythmTypes}"  Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="1" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeRhythmCommand}" CommandParameter="{Binding ElementName=cmbRhythmType, Path=SelectedIndex}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>
                                    
                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="pq time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Increment="0.01" Minimum="0.05" Maximum="10" Value="{Binding PQTime,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="qrs time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Increment="0.001" Minimum="0.05" Maximum="10" Value="{Binding QRSTime,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="qt time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Increment="0.01" Minimum="0.05" Maximum="10" Value="{Binding QTTime,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="ventricular escape rate"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Increment="1" Minimum="0" Maximum="200" Value="{Binding VentEscapeRate,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="wandering pacemaker rate"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Increment="1" Minimum="0" Maximum="200" Value="{Binding WandPacemakerRate,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="p wave amplification"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Increment="1" Minimum="0" Maximum="200" Value="{Binding PWaveAmp,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="6" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="t wave amplification"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Increment="1" Minimum="0" Maximum="200" Value="{Binding TWaveAmp,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="7" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="ecg noise level"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Increment="1" Minimum="0" Maximum="200" Value="{Binding NoiseLevel,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="8" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                </Grid>
                            </Border>

                        </Expander>

                        <Expander Header=" oxygenation model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="atp use"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Increment="0.005" Minimum="0" Maximum="1" Value="{Binding VATP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="mmol/s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>
                                    
                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="oxygen use"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Increment="0.005" Minimum="0" Maximum="1" Value="{Binding VO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="ml O2/s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="hemoglobin"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Increment="0.5" Minimum="1" Maximum="15" Value="{Binding Hemoglobin,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>
                                    
                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="2,3 DPG"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Increment="0.5" Minimum="1" Maximum="10" Value="{Binding DPG,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="temperature"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Increment="0.1" Minimum="28" Maximum="43" Value="{Binding Temp,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="deg C" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                
                                </Grid>
                            </Border>
                        </Expander>
                        
                        <Expander Header=" acidbase model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="respiratory quotient"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Increment="0.1" Maximum="1" Minimum="0.1" Value="{Binding RespQ,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    
                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="sodium"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Increment="1" Maximum="160" Minimum="110"  Value="{Binding NaPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="potassium"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Increment="0.1" Maximum="10" Minimum="1.0"  Value="{Binding KPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="chloride"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Increment="1" Maximum="150" Minimum="80"  Value="{Binding ClPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="calcium"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Increment="0.1" Maximum="3" Minimum="0.5"  Value="{Binding CaPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="magnesium"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Increment="0.01" Maximum="2" Minimum="0.35"  Value="{Binding MgPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="phosphates"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Increment="0.1" Maximum="3" Minimum="0.7"  Value="{Binding PhosPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="6" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="albumin"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Increment="1" Maximum="45" Minimum="5"  Value="{Binding AlbPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="7" Text="g/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="unmeasured anions"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Increment="0.1" Maximum="50" Minimum="0" Value="{Binding UaPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="8" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="9" FontSize="10" Text="unmeasures cations"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="9" Grid.Column="1" Increment="0.1" Maximum="50" Minimum="0" Value="{Binding UcPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="9" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>


                                    <TextBlock Grid.Column="0" Grid.Row="10" FontSize="10" Text="lactate clearance rate"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="10" Grid.Column="1" Increment="0.1" Value="{Binding LactateClearanceRate,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="10" Text="mmol/s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>
                                    
                                </Grid>
                            </Border>
                        </Expander>



                    </StackPanel>
                </Expander>

                
                <Expander IsExpanded="True" Header="Model standard tests" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10" Foreground="White" BorderThickness="0">
                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black" Margin="10,0,10,10">
                        <StackPanel Margin="10,5,10,10">
                            <Button Content="{Binding ApneaTestStatus}" FontSize="10" Background="SlateGray" Foreground="White" Margin="10,10,10,0" Height="25" Command="{Binding ApneaTestCommand}"></Button>
                            <Label Content="{Binding ApneaReport}" Foreground="White" FontStyle="Italic" Margin="10,0,10,10"></Label>

                            <Button Content="{Binding CircArrestTestStatus}" FontSize="10" Background="SlateGray" Foreground="White" Margin="10,10,10,0" Height="25" Command="{Binding CircArrestTestCommand}"></Button>
                            <Label Content="{Binding CircArrestReport}" Foreground="White" FontStyle="Italic" Margin="10,0,10,10"></Label>
                        </StackPanel>
                    </Border>
                </Expander>

                <Expander IsExpanded="False" Header="Model log" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10" Foreground="White" BorderThickness="0">
                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black" Margin="10,0,10,10">
                        <StackPanel Margin="10,5,10,10">
                            <ListBox x:Name="lstBox" Height="100" ItemsSource="{Binding Path=ModelLog, UpdateSourceTrigger=PropertyChanged}" Background="Black" BorderBrush="Black" FontSize="10" ScrollViewer.VerticalScrollBarVisibility="Auto" Foreground="White" ></ListBox>
                            <Button Content="CLEAR" Command="{Binding ClearLogCommand}" FontSize="10" Background="SlateGray" Foreground="White" Margin="50,5,50,0"></Button>
                        </StackPanel>
                    </Border>
                </Expander>

                



            </StackPanel>
        </ScrollViewer>

        <TextBlock Text="MODEL" Grid.Column="1" TextAlignment="Center" VerticalAlignment="Top" Foreground="Black" FontWeight="DemiBold" FontSize="14" Margin="0,25,0,0"></TextBlock>
        <local2:ScrollingGraph x:Name="testGraph" Height="350" Grid.Column="1" VerticalAlignment="Bottom" Margin="0,0,0,40"></local2:ScrollingGraph>



        <TextBlock Text="MONITORING" Grid.Column="2" TextAlignment="Center" Foreground="Black" FontWeight="DemiBold" FontSize="14" Margin="0,25,0,0"></TextBlock>
        <ScrollViewer Grid.Column="2"  Margin="0,50,5,25" VerticalScrollBarVisibility="Auto">
            <StackPanel Grid.Column="2" Margin="0,0,5,0">

                <Expander  Header="Patient monitor" IsExpanded="{Binding PatMonitorGraphEnabled, Mode=TwoWay}" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10"  Foreground="White" BorderThickness="0">
                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black" Margin="10,0,10,10">
                        <Grid Margin="5,5,5,5" Background="Black" >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="4*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <TextBlock Grid.Column="1" Foreground="LimeGreen" Text="HR" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="1" Foreground="LimeGreen" Text="{Binding Heartrate, Mode=OneWay}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                            <TextBlock Grid.Column="1" Foreground="LimeGreen" Text="bpm" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="1" Grid.Row="1" Foreground="Fuchsia" Text="SpO2" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="1" Grid.Row="1" Foreground="Fuchsia" Text="{Binding Spo2}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                            <TextBlock Grid.Column="1" Grid.Row="1" Foreground="Fuchsia" Text="%" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="1" Grid.Row="2" Foreground="Red" Text="ABP" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="1" Grid.Row="2" Foreground="Red" Text="{Binding Abp}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                            <TextBlock Grid.Column="1" Grid.Row="2" Foreground="Red" Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="1" Grid.Row="3" Foreground="White" Text="RESP" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="1" Grid.Row="3" Foreground="White" Text="{Binding Resprate}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                            <TextBlock Grid.Column="1" Grid.Row="3" Foreground="White" Text="/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="1" Grid.Row="4" Foreground="DarkOrange" Text="ETCO2" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="1" Grid.Row="4" Foreground="DarkOrange" Text="{Binding Endtidalco2}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                            <TextBlock Grid.Column="1" Grid.Row="4" Foreground="DarkOrange" Text="kPa" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>


                            <local:ParameterGraph2 x:Name="graphPatMonitor" Grid.Column="0" Grid.Row="0" Grid.RowSpan="5" Height="175"/>

                        </Grid>
                    </Border>
                </Expander>

                <Expander IsExpanded="True" Header="Vital parameters" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10" Foreground="White" BorderThickness="0">
                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black" Margin="10,0,10,10">
                        <Grid Margin="5,5,5,5" Background="Black" >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="50"/>
                                <RowDefinition Height="50"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Column="0" Text="heartrate" TextAlignment="Center" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="0" Text="{Binding Heartrate}" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="0" Text="bpm" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="1" Text="spo2" TextAlignment="Center" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="1" Text="{Binding Spo2}" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="1" Text="%" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="2" Text="abp" TextAlignment="Center" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="2" Text="{Binding Abp}" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="2" Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="3" Grid.Row="0" Text="cvp" TextAlignment="Center" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding Cvp}" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="3" Grid.Row="0" Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="0" Grid.Row="1" Text="resp rate" TextAlignment="Center" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding Resprate}" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="0" Grid.Row="1" Text="/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="1" Grid.Row="1" Text="etco2" TextAlignment="Center" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding Endtidalco2}" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="1" Grid.Row="1" Text="kPa" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="2" Grid.Row="1" Text="pap" TextAlignment="Center" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="2" Grid.Row="1"  Text="{Binding Pap}" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="2" Grid.Row="1"  Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="3" Grid.Row="1" Text="temp" TextAlignment="Center" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="3" Grid.Row="1" Text="{Binding Temp}" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="3" Grid.Row="1" Text="dgs" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>


                        </Grid>
                    </Border>
                </Expander>

                <Expander IsExpanded="True" Header="Additional parameters" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10"  Foreground="White" BorderThickness="0">
                    <StackPanel Margin="10,0,10,5" Background="Transparent" >
                        <Expander Header=" heart" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <Grid Margin="5,5,5,5" Background="Black" Opacity="1.0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Text="LV output" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Text="{Binding Lvo}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Text="LV stroke" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Text="{Binding Lvstroke}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Text="LV pressures" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Text="{Binding Lvpressures}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="LA pressures" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding Lapressures}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="RV output" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding Rvo}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="RV stroke" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding Rvstroke}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="RV pressures" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1"  Text="{Binding Rvpressures}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1"  Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="RA pressures" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="{Binding Rapressures}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="LV volumes" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="{Binding Lvvolumes}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="LA volumes" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="{Binding Lavolumes}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="RV volumes" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2"  Text="{Binding Rvvolumes}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2"  Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="RA volumes" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="{Binding Ravolumes}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" Text="MyoO2 Index" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="3" Text="{Binding MyoO2Index}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="3" Text="" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>


                                </Grid>
                            </Border>
                        </Expander>
                        <Expander Header=" circulation" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <Grid Margin="5,5,5,5" Background="Black" Opacity="1.0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Text="IVC flow" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Text="{Binding Ivcflow}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Text="SVC flow" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Text="{Binding Svcflow}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Text="Myocardial flow" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Text="{Binding Myoflow}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="IVC flow" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="{Binding Ivcflow}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="SVC flow" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Svcflow}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="Myocardial flow" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="{Binding Myoflow}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="PDA flow" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding Pdaflow}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="Kidneys flow" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding Kidneysflow}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="Liver flow" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding Liverflow}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="Intestines flow" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="{Binding Intestinesflow}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="Brain flow" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="{Binding Brainflow}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="Total volume" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="{Binding TotalVolume}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>




                                </Grid>
                            </Border>
                        </Expander>
                        <Expander Header=" oxygenation" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <Grid Margin="5,5,5,5" Background="Black" Opacity="1.0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>


                                    </Grid.RowDefinitions>


                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="Global DO2" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="{Binding Ivcflow}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="ml O2/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="Myocardial DO2" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Myocardialdo2}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="Brain DO2" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="{Binding Braindo2}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="DO2:VO2 ratio" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding Pdaflow}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>




                                </Grid>
                            </Border>
                        </Expander>
                        <Expander Header=" lung" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <Grid Margin="5,5,5,5" Background="Black" Opacity="1.0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                    </Grid.RowDefinitions>


                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="Resp rate" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="{Binding Resprate}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="Alv volume" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Alveolarvolume}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="Tidal volume" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="{Binding Tidalvolume}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="Minute volume" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding Minutevolume}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="Applied pressure" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding Appliedpressure}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="Airway pressure" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding Airwaypressure}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="Alv left pressure" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="{Binding Alvleftpressure}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="Alv right pressures" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="{Binding Alvrightpressure}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="Target MV" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="{Binding MinutevolumeTarget}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="Target TV" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="{Binding TidalvolumeTarget}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="VT Ref" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="{Binding VTRef}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="VT Max" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="{Binding VTMax}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>


                                </Grid>
                            </Border>
                        </Expander>
                        <Expander Header=" gasses" IsExpanded="True" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <Grid Margin="5,5,5,5" Background="Black" Opacity="1.0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>

                                    </Grid.RowDefinitions>


                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="pH" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="{Binding Ph}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="paO2" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Pao2}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="kPa" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="paCO2" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="{Binding Paco2}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="kPa" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="HCO3-" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding Hco3}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="BE" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding Be}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="PAO2 (l/r)" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding Po2alv}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="kPa" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="PACO2 (l/r)" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="{Binding Pco2alv}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="Lactate (AA)" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="{Binding LactateAA}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="Lactate (LB)" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="{Binding LactateLB}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="Lactate (LIVER)" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="{Binding LactateLIVER}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="Lactate (UB)" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="{Binding LactateUB}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="Lactate (BRAIN)" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="{Binding LactateBRAIN}" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>
                                    
                                    
                                </Grid>
                            </Border>
                        </Expander>

                    </StackPanel>
                </Expander>

                <Expander IsExpanded="False" Header="Graphs and curves" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10" Foreground="White" BorderThickness="0">
                    <StackPanel Margin="10,0,10,5"  >
                        <Expander x:Name="expGraphPressures" IsExpanded="{Binding PressureGraphEnabled, Mode=TwoWay}"  Header=" pressures" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <StackPanel Margin="5,5,5,5">
                                    <local:ParameterGraph2 x:Name="graphPressures" Height="150">

                                    </local:ParameterGraph2>
                                    <TextBlock Text="  select pressure probe location" FontSize="10" Background="Black" TextAlignment="Left"></TextBlock>
                                    <Grid Background="Black">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="7*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>

                                        </Grid.ColumnDefinitions>
                                        <ComboBox Grid.Column="0" SelectedIndex="{Binding SelectedIndexPressure}" Height="20" Foreground="White" FontSize="10"  Style="{StaticResource comboBoxCustom}">
                                            <ComboBoxItem Content="heart "  ></ComboBoxItem>
                                            <ComboBoxItem Content="left heart "  ></ComboBoxItem>
                                            <ComboBoxItem Content="right heart "  ></ComboBoxItem>
                                            <ComboBoxItem Content="lungs "  ></ComboBoxItem>
                                        </ComboBox>
                                        <ToggleButton IsChecked="{Binding Graph1PressureDisabled}" Background="Black" Grid.Column="1" Content="1" Foreground="White" FontSize="10"></ToggleButton>
                                        <ToggleButton IsChecked="{Binding Graph2PressureDisabled}" Background="Black" Grid.Column="2" Content="2" Foreground="White" FontSize="10"></ToggleButton>
                                        <ToggleButton IsChecked="{Binding Graph3PressureDisabled}" Background="Black" Grid.Column="3" Content="3" Foreground="White" FontSize="10"></ToggleButton>
                                        <ToggleButton IsChecked="{Binding Graph4PressureDisabled}" Background="Black" Grid.Column="4" Content="4" Foreground="White" FontSize="10"></ToggleButton>
                                        <ToggleButton IsChecked="{Binding Graph5PressureDisabled}" Background="Black" Grid.Column="5" Content="5" Foreground="White" FontSize="10"></ToggleButton>
                                    </Grid>

                                </StackPanel>
                            </Border>
                        </Expander>
                        <Expander x:Name="expGraphFlows" IsExpanded="{Binding FlowGraphEnabled, Mode=TwoWay}" Header=" flows" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <StackPanel Margin="5,5,5,5">

                                    <local:ParameterGraph2 x:Name="graphFlows" Height="150"></local:ParameterGraph2>
                                    <TextBlock Text="  select flow probe location" FontSize="10" Background="Black" TextAlignment="Left"></TextBlock>
                                    <Grid Background="Black">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="7*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>

                                        </Grid.ColumnDefinitions>
                                        <ComboBox Grid.Column="0" SelectedIndex="{Binding SelectedIndexFlow}"  Height="20" Foreground="White" FontSize="10"  Style="{StaticResource comboBoxCustom}">
                                            <ComboBoxItem Content="left heart "  ></ComboBoxItem>
                                            <ComboBoxItem Content="right heart "  ></ComboBoxItem>
                                            <ComboBoxItem Content="pulmonary artery "  ></ComboBoxItem>
                                            <ComboBoxItem Content="aorta "  ></ComboBoxItem>
                                            <ComboBoxItem Content="foramen ovale "  ></ComboBoxItem>
                                            <ComboBoxItem Content="ventricular septal defect "  ></ComboBoxItem>
                                            <ComboBoxItem Content="ductus arteriousus "  ></ComboBoxItem>
                                            <ComboBoxItem Content="lungs "  ></ComboBoxItem>
                                        </ComboBox>
                                        <ToggleButton IsChecked="{Binding Graph1FlowDisabled}" Background="Black" Grid.Column="1" Content="1" Foreground="White" FontSize="10"></ToggleButton>
                                        <ToggleButton IsChecked="{Binding Graph2FlowDisabled}" Background="Black" Grid.Column="2" Content="2" Foreground="White" FontSize="10"></ToggleButton>
                                        <ToggleButton IsChecked="{Binding Graph3FlowDisabled}" Background="Black" Grid.Column="3" Content="3" Foreground="White" FontSize="10"></ToggleButton>
                                        <ToggleButton IsChecked="{Binding Graph4FlowDisabled}" Background="Black" Grid.Column="4" Content="4" Foreground="White" FontSize="10"></ToggleButton>
                                        <ToggleButton IsChecked="{Binding Graph5FlowDisabled}" Background="Black" Grid.Column="5" Content="5" Foreground="White" FontSize="10"></ToggleButton>
                                    </Grid>


                                </StackPanel>
                            </Border>
                        </Expander>
                        <Expander x:Name="expGraphPVLoops" IsExpanded="{Binding PVLoopGraphEnabled, Mode=TwoWay}" Header=" pressure-volume loops" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <StackPanel Margin="5,5,5,5">
                                    <local:ParameterGraph2 x:Name="graphPVLoops"  Height="200"></local:ParameterGraph2>
                                    <TextBlock Text="  select pv loop" FontSize="10" Background="Black" TextAlignment="Left"></TextBlock>
                                    <Grid Background="Black">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="7*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>

                                        </Grid.ColumnDefinitions>
                                        <ComboBox Grid.Column="0"  SelectedIndex="{Binding SelectedIndexPVLoop}" Height="20" Foreground="White" FontSize="10"  Style="{StaticResource comboBoxCustom}">
                                            <ComboBoxItem Content="left ventricle "  ></ComboBoxItem>
                                            <ComboBoxItem Content="left atrium "  ></ComboBoxItem>
                                            <ComboBoxItem Content="right ventricle "  ></ComboBoxItem>

                                            <ComboBoxItem Content="right atrium "  ></ComboBoxItem>
                                            <ComboBoxItem Content="resp system "  ></ComboBoxItem>
                                            <ComboBoxItem Content="left lung "  ></ComboBoxItem>
                                            <ComboBoxItem Content="right lung "  ></ComboBoxItem>

                                        </ComboBox>
                                        <ToggleButton IsChecked="{Binding Graph1PVDisabled}" Background="Black" Grid.Column="1" Content="1" Foreground="White" FontSize="10"></ToggleButton>
                                        <ToggleButton IsChecked="{Binding Graph2PVDisabled}" Background="Black" Grid.Column="2" Content="2" Foreground="White" FontSize="10"></ToggleButton>
                                        <ToggleButton IsChecked="{Binding Graph3PVDisabled}" Background="Black" Grid.Column="3" Content="3" Foreground="White" FontSize="10"></ToggleButton>
                                        <ToggleButton IsChecked="{Binding Graph4PVDisabled}" Background="Black" Grid.Column="4" Content="4" Foreground="White" FontSize="10"></ToggleButton>
                                        <ToggleButton IsChecked="{Binding Graph5PVDisabled}" Background="Black" Grid.Column="5" Content="5" Foreground="White" FontSize="10"></ToggleButton>
                                    </Grid>


                                </StackPanel>
                            </Border>
                        </Expander>
                    </StackPanel>
                </Expander>

            </StackPanel>
        </ScrollViewer>

        <skia:SKElement x:Name="canvasDiagramSkeleton" Grid.Column="1" Margin="0,50,0,210" Opacity="1" IsEnabled="False" ></skia:SKElement>
        <skia:SKElement x:Name="canvasDiagram" Grid.Column="1" Margin="0,50,0,210"></skia:SKElement>
    </Grid>
</Window>
